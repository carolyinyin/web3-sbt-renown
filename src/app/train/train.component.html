<div class="min-h-full">
  <nav class="bg-[#4B72B4]">
    <div class="mx-auto w-full px-4 sm:px-6 lg:px-8">
      <div class="flex h-20 items-center justify-between p-5">
        <div class="flex items-center">
          <div class="flex-shrink-0 text-white font-black">SBT</div>
          <div class="max-md:hidden">
            <!-- WEB -->
            <div class="ml-10 flex items-baseline space-x-4">
              <button class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-start" (click)="changePanel('INFO')" >
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                </svg>
              </button>
              <button class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-start" (click)="changePanel('VOTE')" >
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                </svg>
              </button>
              <button class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-start" (click)="changePanel('RANK')" >
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" />
                </svg>
              </button>
            </div>
          </div>
        </div>
        <div class="-mr-2 flex md:hidden">
          <!-- Mobile menu button -->
          <button type="button" class="inline-flex items-center justify-center rounded-md bg-gray-800 p-2 text-gray-400 hover:bg-gray-700 hover:text-white" aria-controls="mobile-menu" aria-expanded="false" (click)="showPanel = !showPanel">
            <span class="sr-only">Open main menu</span>
            <!--
              Heroicon name: outline/bars-3

              Menu open: "hidden",ｚ Menu closed: "block"
            -->
            <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
            </svg>
            <!--
              Heroicon name: outline/x-mark

              Menu open: "block", Menu closed: "hidden"
            -->
            <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </div>
    <!-- Mobile menu, show/hide based on menu state. -->
    <ng-container *ngIf="showPanel">
      <div class="md:hidden" id="mobile-menu">
        <div class="space-y-1 px-2 pt-2 pb-3 sm:px-3">
          <button class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-start" (click)="step = 'INFO'" >INFO</button>
          <button class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-start" (click)="step = 'VOTE'" >VOTE</button>
          <button class="text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium w-full text-start" (click)="step = 'RANK'" >RANK</button>
        </div>
      </div>
    </ng-container>
  </nav>
  <main>
    <div class="mx-auto w-3/4 py-6 sm:px-6 lg:px-8">
      <!-- Replace with your content -->
      <div class="px-4 py-6 sm:px-0">
        <div class="h-96 rounded-lg">
          <ng-container *ngIf="step === 'INFO'">
            <div class="grid gap-4 grid-cols-1 sm:grid-cols-2">
              <mat-card class="example-card bg-[#B1C2DA]" *ngFor="let item of teamsinfo; index as i" style="box-shadow: none">
                <img class="w-full" mat-card-image [src]="item.photo" alt="" >
                <mat-card-content>
                  <p class="font-black">{{ item.no }}</p>
                  <p class="py-5">{{ item.member }}</p>
                  <p>專案介紹：</p>
                  <p *ngFor="let phrase of item.detail;">{{ phrase }}</p>
                </mat-card-content>
              </mat-card>
            </div>
          </ng-container>
          <ng-container *ngIf="step === 'VOTE'">
            <div class="grid gap-4 grid-cols-1 sm:grid-cols-4">
              <ng-container *ngFor="let item of teamsinfo; index as i">
                <mat-card class="example-card">
                  <mat-card-header>
                    <mat-card-title>{{ item.no }}</mat-card-title>
                    <mat-card-subtitle>{{ item.type }}</mat-card-subtitle>
                  </mat-card-header>
                  <mat-card-content>
                    <p class="text-3xl font-black">主題：</p>
                    <p class="text-3xl font-black">{{ item.subject }}</p>
                  </mat-card-content>
                  <p class="text-red-500 text-xl" *ngIf="!isMember">*訪客無投票權限*</p>
                  <div class="grid place-items-center">
                    <button *ngIf="isMember" class="bg-[#122745] text-gray-300 hover:bg-[#FF6670] hover:text-white w-full rounded" (click)="exectVote(i+1)">LIKE</button>
                  </div>
                </mat-card>
              </ng-container>
            </div>
          </ng-container>
          <ng-container *ngIf="step === 'RANK'">
            <div class="w-full h-full">
              <canvas baseChart class="chart" width="960" height="450"
              [data]="barChartData"
              [options]="barChartOptions"
              [plugins]="barChartPlugins"
              [legend]="barChartLegend"
              [type]="'bar'">
              </canvas>
            </div>

            <!-- 所有投票紀錄 -->
            <!-- <table mat-table [dataSource]="ratingsRecord" matSort color="primary">

              <ng-container matColumnDef="index">
                <th mat-header-cell *matHeaderCellDef> index </th>
                <td mat-cell *matCellDef="let row; let i = index"> {{ i }} </td>
              </ng-container>

              <ng-container matColumnDef="issuer">
                <th mat-header-cell *matHeaderCellDef> 投票者 </th>
                <td mat-cell *matCellDef="let row"> {{row.issuer}} </td>
              </ng-container>

              <ng-container matColumnDef="recipient">
                <th mat-header-cell *matHeaderCellDef> 候選人 </th>
                <td mat-cell *matCellDef="let row"> {{row.recipient}} </td>
              </ng-container>

              <ng-container matColumnDef="score">
                <th mat-header-cell *matHeaderCellDef> 分數 </th>
                <td mat-cell *matCellDef="let row">{{ row.score }}</td>
              </ng-container>

              <ng-container matColumnDef="comment">
                <th mat-header-cell *matHeaderCellDef> 評論 </th>
                <td mat-cell *matCellDef="let row">{{ row.comment }}</td>
              </ng-container>

              <ng-container matColumnDef="timestamp">
                <th mat-header-cell *matHeaderCellDef> 時戳 </th>
                <td mat-cell *matCellDef="let row">{{ row.timestamp }}</td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns" ></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table> -->

          </ng-container>
        </div>
      </div>
      <!-- /End replace -->
    </div>

    <button *ngIf="step === 'VOTE'" class="bg-white border border-[#39618C] rounded-full fixed bottom-3 right-14 text-[#39618C] m-10 px-5 text-center inline-flex items-center hover:bg-[#122745] hover:text-white" (click)="changePanel('RANK')">
      See Results
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75" />
      </svg>
    </button>
  </main>
</div>
